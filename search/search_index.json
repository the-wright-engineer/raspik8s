{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to raspik8s GitHub Repo This site holds the documentation necessary to configure and deploy Kubernetes on Raspberry Pi boards. Quick Start Clone https://github.com/sgielen/picl-k3os-image-generator.git Get the MAC Addresses for all the Raspbery Pis Generate YAML config files for each Raspberry Pi Device. Put them under the /config directory with the \"mac_address.yaml\" for each device. Run ./build-image.sh raspberrypi to generate the Raspberry Pi image Burn the image to the SD Cards for all the Raspberry Pis Start the master node with the \"--cluster-init\" flag first. After the first master node has been started, start the remaining two master nodes. After verifying that all the master nodes have been setup up, start the remaining worker nodes. You should have a fully function Kubernetes cluster now. Example Worker Node Config: ssh_authorized_keys: - github:the-wright-engineer hostname: node01 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi If running in multi-master (minimum of 3 nodes): Example Master Node Config: ssh_authorized_keys: - github:the-wright-engineer hostname: master01 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server - \"--cluster-init\" ssh_authorized_keys: - github:the-wright-engineer hostname: master02 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server ssh_authorized_keys: - github:the-wright-engineer hostname: master03 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server","title":"Home"},{"location":"#welcome-to-raspik8s","text":"GitHub Repo This site holds the documentation necessary to configure and deploy Kubernetes on Raspberry Pi boards.","title":"Welcome to raspik8s"},{"location":"#quick-start","text":"Clone https://github.com/sgielen/picl-k3os-image-generator.git Get the MAC Addresses for all the Raspbery Pis Generate YAML config files for each Raspberry Pi Device. Put them under the /config directory with the \"mac_address.yaml\" for each device. Run ./build-image.sh raspberrypi to generate the Raspberry Pi image Burn the image to the SD Cards for all the Raspberry Pis Start the master node with the \"--cluster-init\" flag first. After the first master node has been started, start the remaining two master nodes. After verifying that all the master nodes have been setup up, start the remaining worker nodes. You should have a fully function Kubernetes cluster now. Example Worker Node Config: ssh_authorized_keys: - github:the-wright-engineer hostname: node01 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi If running in multi-master (minimum of 3 nodes): Example Master Node Config: ssh_authorized_keys: - github:the-wright-engineer hostname: master01 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server - \"--cluster-init\" ssh_authorized_keys: - github:the-wright-engineer hostname: master02 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server ssh_authorized_keys: - github:the-wright-engineer hostname: master03 k3os: dns_nameservers: - 8.8.8.8 - 1.1.1.1 ntp_servers: - 0.us.pool.ntp.org - 1.us.pool.ntp.org wifi: - name: myssid passphrase: mypassphrase password: myrpipw server_url: https://master-ip:6443 token: mytoken labels: region: us-east-1 system: rpi k3s_args: - server","title":"Quick Start"},{"location":"about/","text":"About raspik8s Raspik8s was started to collect and document all the necessary steps to bootstrap a Raspberry Pi cluster. Currently there are two directions you can go with this: Use a server with k3d master node configured and exposed on the Docker host network, then configure the Raspberry Pis with k3OS to use the k3d master. Use k3OS for all nodes by selecting a Raspberry Pi to act as a master node.","title":"About"},{"location":"about/#about","text":"","title":"About"},{"location":"about/#raspik8s","text":"Raspik8s was started to collect and document all the necessary steps to bootstrap a Raspberry Pi cluster. Currently there are two directions you can go with this: Use a server with k3d master node configured and exposed on the Docker host network, then configure the Raspberry Pis with k3OS to use the k3d master. Use k3OS for all nodes by selecting a Raspberry Pi to act as a master node.","title":"raspik8s"},{"location":"contribute/","text":"Contributing Documentation To contribue to the documentation, all you need to do is update either mkdocs.yml (if you are making a change to the config) or add/modify files under docs/. The method of running make and mkdocs has been deprecated in favor of allowing GitHub Actions to do the work. Simply commit your changes to the master branch and watch automation do its thing. Documentation layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. Commands for contributing to documentation (DEPRECATED) make - Sets up python3 virtual environment source .venv/bin/active - Activates python3 virtual environment mkdocs build - Build the documentation site. mkdocs help - Print this help message. mkdocs gh-deploy - Deploy documentation updates to gh-deploy branch","title":"Contribute"},{"location":"contribute/#contributing","text":"","title":"Contributing"},{"location":"contribute/#documentation","text":"To contribue to the documentation, all you need to do is update either mkdocs.yml (if you are making a change to the config) or add/modify files under docs/. The method of running make and mkdocs has been deprecated in favor of allowing GitHub Actions to do the work. Simply commit your changes to the master branch and watch automation do its thing.","title":"Documentation"},{"location":"contribute/#documentation-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Documentation layout"},{"location":"contribute/#commands-for-contributing-to-documentation-deprecated","text":"make - Sets up python3 virtual environment source .venv/bin/active - Activates python3 virtual environment mkdocs build - Build the documentation site. mkdocs help - Print this help message. mkdocs gh-deploy - Deploy documentation updates to gh-deploy branch","title":"Commands for contributing to documentation (DEPRECATED)"},{"location":"deps/","text":"Dependencies Raspberry Pi k3OS Image Generator Repo: https://github.com/sgielen/picl-k3os-image-generator Raspberry Pi Cluster Monitoring Prometheus, Alertmanager, Grafana Setup Repo: https://github.com/carlosedp/cluster-monitoring","title":"Dependencies"},{"location":"deps/#dependencies","text":"","title":"Dependencies"},{"location":"deps/#raspberry-pi-k3os-image-generator","text":"Repo: https://github.com/sgielen/picl-k3os-image-generator","title":"Raspberry Pi k3OS Image Generator"},{"location":"deps/#raspberry-pi-cluster-monitoring","text":"Prometheus, Alertmanager, Grafana Setup Repo: https://github.com/carlosedp/cluster-monitoring","title":"Raspberry Pi Cluster Monitoring"}]}